# MindWell base config. Secrets (client id/secret, cookie secret, upstreams, etc.)
# are still passed via environment variables so this file can stay in git.

# Azure App Service terminates TLS before the container. oauth2-proxy now
# listens on localhost:4181, Caddy terminates public traffic on 4180.
http_address = "127.0.0.1:4181"

# Keep OPTIONS unauthenticated so SPA preflight checks succeed.
skip_auth_preflight = true

# Ensure downstream services receive the identity headers they expect.
set_xauthrequest = true
set_authorization_header = true
pass_authorization_header = true
pass_access_token = true
